var UfcFit=window.UfcFit||{};UfcFit.Validators={CreditCards:{currentCardType:null,creditCardInput:null,valid:!1,cardRegexps:[["Visa Electron",/^(417500|(4917|4913|4508|4844)\d{2})\d{10}$/],["Visa",/^4\d{12}(\d{3})?$/],["MasterCard",/^(5[1-5]\d{4}|677189)\d{10}$/],["discover",/^(6011|65\d{2})\d{12}$/],["American Express",/^(34|37)\d{13}$/],["Diners Club",/^3(0[0-5]|[68]\d)\d{11}$/]],initialize:function(){UfcFit.Validators.CreditCards.creditCardInput=$("#number");var e=jQuery(UfcFit.Validators.CreditCards.creditCardInput);e.bind("blur",function(){UfcFit.Validators.CreditCards.validateNumber(UfcFit.Validators.CreditCards.creditCardInput)})},validateNumber:function(e){number=e.val(),validLuhnValue=UfcFit.Validators.CreditCards.validLuhn(number),validRegExValue=UfcFit.Validators.CreditCards.validRegEx(number),validLuhnValue&&validRegExValue?(UfcFit.Validators.CreditCards.valid=!0,e.parent("div").removeClass("errors")):(UfcFit.Validators.CreditCards.valid=!1,e.parent("div").addClass("errors"))},validLuhn:function(e){if(e.length>19)return!1;sum=0,mul=1,l=e.length;for(i=0;i<l;i++)digit=e.substring(l-i-1,l-i),tproduct=parseInt(digit,10)*mul,tproduct>=10?sum+=tproduct%10+1:sum+=tproduct,mul==1?mul++:mul--;return sum%10==0?!0:!1},validRegEx:function(e){return thisCardType=UfcFit.Validators.CreditCards.cardType(e),thisCardType==null?!1:!0},cardType:function(e){var t=null;return jQuery.each(UfcFit.Validators.CreditCards.cardRegexps,function(n,r){if(e.match(r[1]))return t=r[0],!1}),t}}},UfcFit.Validators.CreditCards.initialize();